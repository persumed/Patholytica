<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Users Viewer</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
body { font-family: Arial; padding: 20px; background: #111; color: #fff; }
table { border-collapse: collapse; width: 100%; margin-top: 20px; }
th, td { border: 1px solid #555; padding: 8px; text-align: left; }
th { background: #333; }
tr:nth-child(even) { background: #222; }
</style>
</head>
<body>

<h1>Users Table</h1>
<table id="usersTable">
  <thead>
    <tr>
      <th>UserID</th>
      <th>Username</th>
      <th>Email</th>
      <th>Bronze</th>
      <th>Gold</th>
      <th>Platinum</th>
      <th>CreatedAt</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
const SUPABASE_URL = 'https://aforyattbmwcafvtgnry.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmb3J5YXR0Ym13Y2FmdnRnbnJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDMxMDMsImV4cCI6MjA4MjU3OTEwM30.1kq2-0rxukjO-OevldWSFod-6FfcZmOP7NEa517WEW0';

const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

async function loadUsers() {
  const { data, error } = await supabase.from('users').select('*').order('userid', { ascending: true });
  const tbody = document.querySelector('#usersTable tbody');
  
  if (error) {
    tbody.innerHTML = `<tr><td colspan="7" style="color:red">Error: ${error.message}</td></tr>`;
    return;
  }

  if (!data || data.length === 0) {
    tbody.innerHTML = `<tr><td colspan="7">No users found.</td></tr>`;
    return;
  }

  tbody.innerHTML = data.map(user => `
    <tr>
      <td>${user.userid}</td>
      <td>${user.username}</td>
      <td>${user.email}</td>
      <td>${user.bronze}</td>
      <td>${user.gold}</td>
      <td>${user.platinum}</td>
      <td>${new Date(user.createdat).toLocaleString()}</td>
    </tr>
  `).join('');
}

loadUsers();
</script>

</body>
</html>