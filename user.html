<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Supabase Data Viewer</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
body { font-family: Arial; padding: 20px; background: #111; color: #fff; }
h2 { margin-top: 40px; }
ul { list-style: none; padding: 0; }
li { margin-bottom: 5px; }
</style>
</head>
<body>

<h1>Database Contents</h1>

<div id="content"></div>

<script>
const SUPABASE_URL = 'https://aforyattbmwcafvtgnry.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmb3J5YXR0Ym13Y2FmdnRnbnJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDMxMDMsImV4cCI6MjA4MjU3OTEwM30.1kq2-0rxukjO-OevldWSFod-6FfcZmOP7NEa517WEW0';

const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

const tables = ['Users', 'Articles', 'ContentBlocks', 'Libraries', 'LibraryArticles', 'Comments', 'Likes'];

async function loadTables() {
  const container = document.getElementById('content');
  
  for (const table of tables) {
    const { data, error } = await supabase.from(table).select('*').limit(10);
    
    const section = document.createElement('div');
    section.innerHTML = `<h2>${table}</h2>`;
    
    if (error) {
      section.innerHTML += `<p style="color:red">Error: ${error.message}</p>`;
    } else if (!data || data.length === 0) {
      section.innerHTML += `<p>No data found.</p>`;
    } else {
      const ul = document.createElement('ul');
      data.forEach(row => {
        const li = document.createElement('li');
        li.textContent = JSON.stringify(row);
        ul.appendChild(li);
      });
      section.appendChild(ul);
    }

    container.appendChild(section);
  }
}

loadTables();
</script>

</body>
</html>